!function(a){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=a();else if("function"==typeof define&&define.amd)define([],a);else{var b;b="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,b.Harmony=a()}}(function(){return function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);var j=new Error("Cannot find module '"+g+"'");throw j.code="MODULE_NOT_FOUND",j}var k=c[g]={exports:{}};b[g][0].call(k.exports,function(a){var c=b[g][1][a];return e(c?c:a)},k,k.exports,a,b,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({1:[function(a,b){b.exports=function(){throw Error("[BaseClass] Abstract method was called without definition.")}},{}],2:[function(a,b){function c(a){return a.extend=function(b){var c,e={base:a.base};b=b||{};for(c in a)"function"==typeof a[c]&&(e[c]=a[c].bind(a));for(c in b)a[c]="function"==typeof b[c]?d(c,a,e,b):b[c];return a.base=e,a},a.implement=function(){var b,c=arguments.length;for(b=0;c>b;b+=1)arguments[b](a);return a},a}var d=a("./rebind.js");c.Abstract=a("./abstract.js"),c.Stub=a("./stub.js"),c.Interface=a("./interface.js"),b.exports=c},{"./abstract.js":1,"./interface.js":3,"./rebind.js":4,"./stub.js":5}],3:[function(a,b){b.exports=function(a){return function(b){var c;for(c in a)b[c]=a[c];return b}}},{}],4:[function(a,b){b.exports=function(a,b,c,d){return function(){var e,f=b.base;return b.base=c,b.self=d,e=d[a].apply(b,arguments),b.base=f,e}}},{}],5:[function(a,b){b.exports=function(){}},{}],6:[function(a,b){(function(a){b.exports=function(b){var c,d={},e={},f=[],g=a.localStorage||{};return c=function(a,c){var h,i,a,j,k="string"==typeof a,l=typeof c,m="undefined"!==l&&"function"!==l;if("on"===g.lumberjack||b){if(!k||!m)throw Error("Lumberjack Error: log(channel, data) requires an channel {String} and a payload {String|Object|Number|Boolean}.");for(j={time:new Date,data:c,channel:a,id:f.length},d[a]=d[a]||[],d[a].push(j),f.push(j),e[a]=e[a]||[],i=e[a].length,h=0;i>h;h+=1)e[a][h](c)}},c.clear=function(a){a?d[a]=[]:(d={},f=[])},c.readback=function(a,b){var c="string"==typeof a;if(c)return b?JSON.stringify(d[a],null,4):d[a]||[];throw Error("log.readback(channel, pretty) requires an channel {String}.")},c.readback.master=function(a){return a?JSON.stringify(f,null,4):f},c.readback.channels=function(a){var b=Object.keys(d);return a?JSON.stringify(b):b},c.on=function(a,b){var c="string"==typeof a,d="function"==typeof b;if(!c||!d)throw Error("log.on(channel, cb) requires an channel {String} and a callback {Function}.");e[a]=e[a]||[],e[a].push(b)},c.off=function(a){var b="string"==typeof a;if(!b)throw Error("log.off(channel) requires an channel {String}.");e[a]=[]},c.enable=function(){b=!0},c.disable=function(){b=!1},c}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],7:[function(a,b){(function(c){var d=a("./log.js"),e=a("./slotset.js"),f=a("baseclassjs"),g=a("./event-handler.js");b.exports=function(a,b){var h,i,j,k=Date.now(),l=b.mapping||[],m=b.companion||!1,n=(b.interstitial||!1,b.targeting||{});if(!c.document.getElementById(b.id))throw Error("Ad slot container was not found in the DOM.");h=b.interstitial?c.googletag.defineOutOfPageSlot(b.adunit,b.id):c.googletag.defineSlot(b.adunit,b.sizes,b.id),j=e.cached.callbacks(b.name),b.on=b.on||[];for(i in b.on)j.events[i]=j.events[i]||[],j.events[i]=[].concat(j.events[i],b.on[i]);b.one=b.one||[];for(i in b.one)j.singles[i]=j.singles[i]||[],j.singles[i]=[].concat(j.singles[i],b.one[i]);f(h).implement(g(j)),h.divId=b.id,h.name=b.name,h.breakpoint=b.breakpoint,h.sizes=b.sizes,h.adunit=b.adunit;for(i in n)h.setTargeting(i,n[i]);n=e.cached.targeting(b.name);for(i in n)h.setTargeting(i,n[i]);return h.defineSizeMapping(l),"function"==typeof b.callback&&h.on("slotRenderEnded",b.callback),a.addEventListener("slotRenderEnded",function(a){a.slot===h&&(d("metric",{event:"Total load time",slot:b.name,value:Date.now()-k}),h.trigger("slotRenderEnded",a))}),m&&h.addService(c.googletag.companionAds()),h.addService(a),h}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./event-handler.js":9,"./log.js":11,"./slotset.js":12,baseclassjs:2}],8:[function(a,b){var c=(a("./util.js"),{});b.exports={get:function(a){return c[a]||[]},add:function(a,b){return c[a]=c[a]||[],c[a].push(b),c[a]},clear:function(){c={}}}},{"./util.js":13}],9:[function(a,b){var c=a("baseclassjs");b.exports=function(a){var b,d={},e={},f={};a=a||{};for(b in a.events)d[b]=[].concat(a.events[b]||[]);for(b in a.singles)e[b]=[].concat(a.singles[b]||[]);return c.Interface({on:function(a,b,c){!c&&a in f&&b.call(this,f[a].data),d[a]=d[a]||[],d[a].push(b)},one:function(a,b,c){!c&&a in f?b.call(this,f[a].data):(e[a]=e[a]||[],e[a].push(b))},off:function(a){d[a]=[],e[a]=[]},trigger:function(a,b){var c=this;a in d&&d[a].forEach(function(a){a.call(c,b)}),a in e&&(e[a].forEach(function(a){a.call(c,b)}),e[a]=[]),f[a]={data:b}}})}},{baseclassjs:2}],10:[function(a,b){(function(c){var d=a("./util.js"),e=a("./adslot.js"),f=a("./log.js"),g=a("./slotset.js"),h=a("./bpset.js"),i=a("baseclassjs"),j=a("./event-handler.js");b.exports=function(a){return a=a||{},a.forceLog&&f.enable(),f("init","Harmony defined."),i({load:function(a){var b=c.googletag.pubads();a=a||{},a.slots=a.slots||[];var i,j,k,l=a.slots.length;for(f("load","Generating ad slots."),i=0;l>i;i+=1){k=a.slots[i];try{j=e(b,d.scrubConf(k)),g.add(j),h.add(j.breakpoint,j)}catch(m){f("error",{msg:"Slot failed to load during call to load().",conf:k,err:m})}}var n,o,p=a.targeting||{};f("load","Applying pubads targeting.");for(n in p)o=p[n],f("load","- "+n+" = "+o),b.setTargeting(n,o);f("load","Harmony config loaded.")},log:f,slot:g.get,hasSlot:g.has,breakpoint:h.get,defineSlot:function(a){var b;try{b=e(c.googletag.pubads(),d.scrubConf(a)),g.add(b),h.add(a.breakpoint,b)}catch(i){f("error",{msg:"Slot failed to load during call to defineSlot()",conf:a,err:i})}},show:{breakpoint:function(a){var b,d,e,g=h.get(a),i=g.length;f("show",{msg:"Showing ads at breakpoint",breakpoint:a});try{for(b=0;i>b;b+=1)d=g[b],c.googletag.display(d.divId),e=document.getElementById(d.divId),e?e.style.display="block":f("error",{msg:"Failed to show slot for breakpoint",breakpoint:a,reason:"Slot was missing from the DOM",slot:d})}catch(j){f("error",{msg:"Failed to show breakpoint",breakpoint:a,err:j})}},slot:function(a){var b,d;f("show",{msg:"Showing slot",name:a});try{b=g.get(a),c.googletag.display(b.divId),d=document.getElementById(b.divId),d.style.display="block"}catch(e){f("error",{msg:"Failed to show slot",name:a,err:e})}}},hide:{breakpoint:function(a){var b,c,d=h.get(a),e=d.length;for(f("hide","Hiding ads at breakpoint "+a),b=0;e>b;b+=1)c=document.getElementById(d[b].divId),c?c.style.display="none":f("error",{msg:"Failed to hide slot for breakpoint",breakpoint:a,reason:"Slot was missing from the DOM",id:d[b].divId})},slot:function(a){var b,c=g.get(a);f("hide",{msg:"Hiding slot",name:a});try{b=document.getElementById(c.divId),b.style.display="none"}catch(d){f("error",{msg:"Failed to hide slot",name:a,err:d})}}}}).implement(j())}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./adslot.js":7,"./bpset.js":8,"./event-handler.js":9,"./log.js":11,"./slotset.js":12,"./util.js":13,baseclassjs:2}],11:[function(a,b){var Lumberjack=a("lumberjackjs");b.exports=Lumberjack()},{lumberjackjs:6}],12:[function(a,b){var c=a("./util.js"),d={},e={events:{},singles:{},targ:{}};b.exports={cached:{callbacks:function(a){return{events:e.events[a]||{},singles:e.singles[a]||{}}},targeting:function(a){return e.targ[a]||{}}},get:function(a){return d[a]||{on:function(b,c){e.events[a]=e.events[a]||{},e.events[a][b]=[].concat(e.events[a][b]||[],c)},one:function(b,c){e.singles[a]=e.singles[a]||{},e.singles[a][b]=[].concat(e.singles[a][b]||[],c)},setTargeting:function(b,c){e.targ[a]=e.targ[a]||{},e.targ[a][b]=c},trigger:c.noop,off:c.noop,mock:!0}},add:function(a){d[a.name]=a},has:function(a){return a in d},clear:function(){d={},e.events={},e.singles={},e.targ={}}}},{"./util.js":13}],13:[function(a,b){var c=a("./slotset.js");b.exports={noop:function(){},slotCount:0,scrubConf:function(a){var b,d,e={el:{}};if(a.drone||c.has(a.name)){do if(d=document.getElementById(a.id)){if(!d.innerHTML)return this.slotCount+=1,b="-h"+this.slotCount,d.id+=b,e.el.id=e.id,a.id=d.id,a.name+=b,a;e.el=d,e.id=d.id,d.id="h-temp"}while(d);throw Error("Ad slot container was not found in the DOM.")}return a}}},{"./slotset.js":12}]},{},[10])(10)});